# VERSION: 2c3a7b1
# THIS FILE IS AUTOGENERATED - DO NOT EDIT
# Source: https://github.com/Software-Automation-Holdings-LLC/developer-common/blob/8d1fc342aa011694119f8ed188fe04e1b4790d56/github-workflow-templates/auto-rebase-codegen.yml

name: Auto-rebase Codegen PRs

on:
  # Run on schedule to check for conflicted PRs
  schedule:
    - cron: "0 */4 * * *" # Every 4 hours

  # Run when base branch is updated (may cause conflicts)
  push:
    branches:
      - main
      - master

  # Allow manual trigger
  workflow_dispatch:

# Restrict default permissions - expanded at job level
permissions: {}

# Only allow one rebase run at a time per repo
concurrency:
  group: auto-rebase-${{ github.repository }}
  cancel-in-progress: false # Don't cancel in-progress rebases

jobs:
  rebase:
    permissions:
      contents: write
      pull-requests: write
    uses: Software-Automation-Holdings-LLC/developer-common/.github/workflows/auto-rebase-codegen.yml@8d1fc342aa011694119f8ed188fe04e1b4790d56
    secrets:
      DEV_BOT_APP_ID: ${{ secrets.DEV_BOT_APP_ID }}
      DEV_BOT_PRIVATE_KEY: ${{ secrets.DEV_BOT_PRIVATE_KEY }}
      LINEAR_API_KEY: ${{ secrets.LINEAR_API_KEY }}
