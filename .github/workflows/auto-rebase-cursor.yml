# VERSION: af261e0
# THIS FILE IS AUTOGENERATED - DO NOT EDIT
# Source: https://github.com/Software-Automation-Holdings-LLC/developer-common/blob/20f9c207fa2d174ee32a4e8975ec2fadc68c7066/github-workflow-templates/auto-rebase-cursor.yml

name: Auto-rebase Cursor PRs

on:
  # Run on schedule to check for conflicted PRs
  schedule:
    - cron: "0 */4 * * *" # Every 4 hours

  # Run when base branch is updated (may cause conflicts)
  push:
    branches:
      - main
      - master

  # Allow manual trigger
  workflow_dispatch:

# Restrict default permissions - expanded at job level
permissions: {}

# Only allow one rebase run at a time per repo
concurrency:
  group: auto-rebase-${{ github.repository }}
  cancel-in-progress: false # Don't cancel in-progress rebases

jobs:
  rebase:
    permissions:
      contents: write
      pull-requests: write
    uses: Software-Automation-Holdings-LLC/developer-common/.github/workflows/auto-rebase-cursor.yml@20f9c207fa2d174ee32a4e8975ec2fadc68c7066
    secrets:
      DEV_BOT_APP_ID: ${{ secrets.DEV_BOT_APP_ID }}
      DEV_BOT_PRIVATE_KEY: ${{ secrets.DEV_BOT_PRIVATE_KEY }}
      LINEAR_API_KEY: ${{ secrets.LINEAR_API_KEY }}
